[('Cursor', 'execute', ('select @@version', {}), {}, None),
 ('Cursor', 'description', (), {}, (('', 1, None, None, None, None, None),)),
 ('Cursor',
  'fetchone',
  (),
  {},
  ('Microsoft SQL Server 2017 (RTM-CU25) (KB5003830) - 14.0.3401.7 (X64) \n'
   '\tJun 25 2021 14:02:48 \n'
   '\tCopyright (C) 2017 Microsoft Corporation\n'
   '\tDeveloper Edition (64-bit) on Linux (Ubuntu 16.04.7 LTS)',)),
 ('Cursor', 'close', (), {}, None),
 ('Cursor', 'execute', ('SELECT schema_name()', {}), {}, None),
 ('Cursor', 'description', (), {}, (('', 1, None, None, None, None, None),)),
 ('Cursor', 'fetchone', (), {}, ('dbo',)),
 ('Cursor', 'close', (), {}, None),
 ('Cursor',
  'execute',
  ('\n'
   '                  SELECT CASE transaction_isolation_level\n'
   '                    WHEN 0 THEN NULL\n'
   "                    WHEN 1 THEN 'READ UNCOMMITTED'\n"
   "                    WHEN 2 THEN 'READ COMMITTED'\n"
   "                    WHEN 3 THEN 'REPEATABLE READ'\n"
   "                    WHEN 4 THEN 'SERIALIZABLE'\n"
   "                    WHEN 5 THEN 'SNAPSHOT' END AS "
   'TRANSACTION_ISOLATION_LEVEL\n'
   '                    FROM sys.dm_exec_sessions\n'
   '                    where session_id = @@SPID\n'
   '                  ',),
  {},
  None),
 ('Cursor', 'fetchone', (), {}, ('READ COMMITTED',)),
 ('Cursor', 'close', (), {}, None),
 ('Cursor',
  'execute',
  ("SELECT CAST('test max support' AS NVARCHAR(max))", {}),
  {},
  None),
 ('Cursor', 'description', (), {}, (('', 1, None, None, None, None, None),)),
 ('Cursor', 'fetchone', (), {}, ('test max support',)),
 ('Cursor', 'close', (), {}, None),
 ('Connection', 'rollback', (), {}, None),
 ('Cursor',
  'execute',
  ('SELECT [INFORMATION_SCHEMA].[TABLES].[TABLE_NAME] \n'
   'FROM [INFORMATION_SCHEMA].[TABLES] \n'
   'WHERE [INFORMATION_SCHEMA].[TABLES].[TABLE_TYPE] = CAST(%(table_type_1)s '
   'AS NVARCHAR(max)) AND [INFORMATION_SCHEMA].[TABLES].[TABLE_NAME] = '
   'CAST(%(table_name_1)s AS NVARCHAR(max)) AND '
   '[INFORMATION_SCHEMA].[TABLES].[TABLE_SCHEMA] = CAST(%(table_schema_1)s AS '
   'NVARCHAR(max))',
   {'table_type_1': 'BASE TABLE',
    'table_name_1': 'Patient',
    'table_schema_1': 'dbo'}),
  {},
  None),
 ('Cursor',
  'description',
  (),
  {},
  (('TABLE_NAME', 1, None, None, None, None, None),)),
 ('Cursor', 'fetchone', (), {}, None),
 ('Cursor', 'close', (), {}, None),
 ('Cursor',
  'execute',
  ('SELECT [INFORMATION_SCHEMA].[TABLES].[TABLE_NAME] \n'
   'FROM [INFORMATION_SCHEMA].[TABLES] \n'
   'WHERE [INFORMATION_SCHEMA].[TABLES].[TABLE_TYPE] = CAST(%(table_type_1)s '
   'AS NVARCHAR(max)) AND [INFORMATION_SCHEMA].[TABLES].[TABLE_NAME] = '
   'CAST(%(table_name_1)s AS NVARCHAR(max)) AND '
   '[INFORMATION_SCHEMA].[TABLES].[TABLE_SCHEMA] = CAST(%(table_schema_1)s AS '
   'NVARCHAR(max))',
   {'table_type_1': 'BASE TABLE',
    'table_name_1': 'RegistrationHistory',
    'table_schema_1': 'dbo'}),
  {},
  None),
 ('Cursor',
  'description',
  (),
  {},
  (('TABLE_NAME', 1, None, None, None, None, None),)),
 ('Cursor', 'fetchone', (), {}, None),
 ('Cursor', 'close', (), {}, None),
 ('Cursor',
  'execute',
  ('SELECT [INFORMATION_SCHEMA].[TABLES].[TABLE_NAME] \n'
   'FROM [INFORMATION_SCHEMA].[TABLES] \n'
   'WHERE [INFORMATION_SCHEMA].[TABLES].[TABLE_TYPE] = CAST(%(table_type_1)s '
   'AS NVARCHAR(max)) AND [INFORMATION_SCHEMA].[TABLES].[TABLE_NAME] = '
   'CAST(%(table_name_1)s AS NVARCHAR(max)) AND '
   '[INFORMATION_SCHEMA].[TABLES].[TABLE_SCHEMA] = CAST(%(table_schema_1)s AS '
   'NVARCHAR(max))',
   {'table_type_1': 'BASE TABLE',
    'table_name_1': 'CodedEvent',
    'table_schema_1': 'dbo'}),
  {},
  None),
 ('Cursor',
  'description',
  (),
  {},
  (('TABLE_NAME', 1, None, None, None, None, None),)),
 ('Cursor', 'fetchone', (), {}, None),
 ('Cursor', 'close', (), {}, None),
 ('Cursor',
  'execute',
  ('SELECT [INFORMATION_SCHEMA].[TABLES].[TABLE_NAME] \n'
   'FROM [INFORMATION_SCHEMA].[TABLES] \n'
   'WHERE [INFORMATION_SCHEMA].[TABLES].[TABLE_TYPE] = CAST(%(table_type_1)s '
   'AS NVARCHAR(max)) AND [INFORMATION_SCHEMA].[TABLES].[TABLE_NAME] = '
   'CAST(%(table_name_1)s AS NVARCHAR(max)) AND '
   '[INFORMATION_SCHEMA].[TABLES].[TABLE_SCHEMA] = CAST(%(table_schema_1)s AS '
   'NVARCHAR(max))',
   {'table_type_1': 'BASE TABLE',
    'table_name_1': 'SGSS_AllTests_Positive',
    'table_schema_1': 'dbo'}),
  {},
  None),
 ('Cursor',
  'description',
  (),
  {},
  (('TABLE_NAME', 1, None, None, None, None, None),)),
 ('Cursor', 'fetchone', (), {}, None),
 ('Cursor', 'close', (), {}, None),
 ('Cursor',
  'execute',
  ('SELECT [INFORMATION_SCHEMA].[TABLES].[TABLE_NAME] \n'
   'FROM [INFORMATION_SCHEMA].[TABLES] \n'
   'WHERE [INFORMATION_SCHEMA].[TABLES].[TABLE_TYPE] = CAST(%(table_type_1)s '
   'AS NVARCHAR(max)) AND [INFORMATION_SCHEMA].[TABLES].[TABLE_NAME] = '
   'CAST(%(table_name_1)s AS NVARCHAR(max)) AND '
   '[INFORMATION_SCHEMA].[TABLES].[TABLE_SCHEMA] = CAST(%(table_schema_1)s AS '
   'NVARCHAR(max))',
   {'table_type_1': 'BASE TABLE',
    'table_name_1': 'SGSS_AllTests_Negative',
    'table_schema_1': 'dbo'}),
  {},
  None),
 ('Cursor',
  'description',
  (),
  {},
  (('TABLE_NAME', 1, None, None, None, None, None),)),
 ('Cursor', 'fetchone', (), {}, None),
 ('Cursor', 'close', (), {}, None),
 ('Connection', 'commit', (), {}, None),
 ('Connection', 'rollback', (), {}, None),
 ('Cursor',
  'execute',
  ('SELECT [INFORMATION_SCHEMA].[TABLES].[TABLE_NAME] \n'
   'FROM [INFORMATION_SCHEMA].[TABLES] \n'
   'WHERE [INFORMATION_SCHEMA].[TABLES].[TABLE_TYPE] = CAST(%(table_type_1)s '
   'AS NVARCHAR(max)) AND [INFORMATION_SCHEMA].[TABLES].[TABLE_NAME] = '
   'CAST(%(table_name_1)s AS NVARCHAR(max)) AND '
   '[INFORMATION_SCHEMA].[TABLES].[TABLE_SCHEMA] = CAST(%(table_schema_1)s AS '
   'NVARCHAR(max))',
   {'table_type_1': 'BASE TABLE',
    'table_name_1': 'Patient',
    'table_schema_1': 'dbo'}),
  {},
  None),
 ('Cursor',
  'description',
  (),
  {},
  (('TABLE_NAME', 1, None, None, None, None, None),)),
 ('Cursor', 'fetchone', (), {}, None),
 ('Cursor', 'close', (), {}, None),
 ('Cursor',
  'execute',
  ('SELECT [INFORMATION_SCHEMA].[TABLES].[TABLE_NAME] \n'
   'FROM [INFORMATION_SCHEMA].[TABLES] \n'
   'WHERE [INFORMATION_SCHEMA].[TABLES].[TABLE_TYPE] = CAST(%(table_type_1)s '
   'AS NVARCHAR(max)) AND [INFORMATION_SCHEMA].[TABLES].[TABLE_NAME] = '
   'CAST(%(table_name_1)s AS NVARCHAR(max)) AND '
   '[INFORMATION_SCHEMA].[TABLES].[TABLE_SCHEMA] = CAST(%(table_schema_1)s AS '
   'NVARCHAR(max))',
   {'table_type_1': 'BASE TABLE',
    'table_name_1': 'RegistrationHistory',
    'table_schema_1': 'dbo'}),
  {},
  None),
 ('Cursor',
  'description',
  (),
  {},
  (('TABLE_NAME', 1, None, None, None, None, None),)),
 ('Cursor', 'fetchone', (), {}, None),
 ('Cursor', 'close', (), {}, None),
 ('Cursor',
  'execute',
  ('SELECT [INFORMATION_SCHEMA].[TABLES].[TABLE_NAME] \n'
   'FROM [INFORMATION_SCHEMA].[TABLES] \n'
   'WHERE [INFORMATION_SCHEMA].[TABLES].[TABLE_TYPE] = CAST(%(table_type_1)s '
   'AS NVARCHAR(max)) AND [INFORMATION_SCHEMA].[TABLES].[TABLE_NAME] = '
   'CAST(%(table_name_1)s AS NVARCHAR(max)) AND '
   '[INFORMATION_SCHEMA].[TABLES].[TABLE_SCHEMA] = CAST(%(table_schema_1)s AS '
   'NVARCHAR(max))',
   {'table_type_1': 'BASE TABLE',
    'table_name_1': 'CodedEvent',
    'table_schema_1': 'dbo'}),
  {},
  None),
 ('Cursor',
  'description',
  (),
  {},
  (('TABLE_NAME', 1, None, None, None, None, None),)),
 ('Cursor', 'fetchone', (), {}, None),
 ('Cursor', 'close', (), {}, None),
 ('Cursor',
  'execute',
  ('SELECT [INFORMATION_SCHEMA].[TABLES].[TABLE_NAME] \n'
   'FROM [INFORMATION_SCHEMA].[TABLES] \n'
   'WHERE [INFORMATION_SCHEMA].[TABLES].[TABLE_TYPE] = CAST(%(table_type_1)s '
   'AS NVARCHAR(max)) AND [INFORMATION_SCHEMA].[TABLES].[TABLE_NAME] = '
   'CAST(%(table_name_1)s AS NVARCHAR(max)) AND '
   '[INFORMATION_SCHEMA].[TABLES].[TABLE_SCHEMA] = CAST(%(table_schema_1)s AS '
   'NVARCHAR(max))',
   {'table_type_1': 'BASE TABLE',
    'table_name_1': 'SGSS_AllTests_Positive',
    'table_schema_1': 'dbo'}),
  {},
  None),
 ('Cursor',
  'description',
  (),
  {},
  (('TABLE_NAME', 1, None, None, None, None, None),)),
 ('Cursor', 'fetchone', (), {}, None),
 ('Cursor', 'close', (), {}, None),
 ('Cursor',
  'execute',
  ('SELECT [INFORMATION_SCHEMA].[TABLES].[TABLE_NAME] \n'
   'FROM [INFORMATION_SCHEMA].[TABLES] \n'
   'WHERE [INFORMATION_SCHEMA].[TABLES].[TABLE_TYPE] = CAST(%(table_type_1)s '
   'AS NVARCHAR(max)) AND [INFORMATION_SCHEMA].[TABLES].[TABLE_NAME] = '
   'CAST(%(table_name_1)s AS NVARCHAR(max)) AND '
   '[INFORMATION_SCHEMA].[TABLES].[TABLE_SCHEMA] = CAST(%(table_schema_1)s AS '
   'NVARCHAR(max))',
   {'table_type_1': 'BASE TABLE',
    'table_name_1': 'SGSS_AllTests_Negative',
    'table_schema_1': 'dbo'}),
  {},
  None),
 ('Cursor',
  'description',
  (),
  {},
  (('TABLE_NAME', 1, None, None, None, None, None),)),
 ('Cursor', 'fetchone', (), {}, None),
 ('Cursor', 'close', (), {}, None),
 ('Cursor',
  'execute',
  ('\n'
   'CREATE TABLE [Patient] (\n'
   '\t[Patient_ID] INTEGER NOT NULL IDENTITY, \n'
   '\tPRIMARY KEY ([Patient_ID])\n'
   ')\n'
   '\n',
   {}),
  {},
  None),
 ('Cursor', 'description', (), {}, None),
 ('Cursor',
  'execute',
  ('\n'
   'CREATE TABLE [RegistrationHistory] (\n'
   '\t[Registration_ID] INTEGER NOT NULL IDENTITY, \n'
   '\t[Patient_ID] INTEGER NULL, \n'
   '\t[StartDate] DATETIME NULL, \n'
   '\t[EndDate] DATETIME NULL, \n'
   '\tPRIMARY KEY ([Registration_ID]), \n'
   '\tFOREIGN KEY([Patient_ID]) REFERENCES [Patient] ([Patient_ID])\n'
   ')\n'
   '\n',
   {}),
  {},
  None),
 ('Cursor', 'description', (), {}, None),
 ('Cursor',
  'execute',
  ('\n'
   'CREATE TABLE [CodedEvent] (\n'
   '\t[CodedEvent_ID] INTEGER NOT NULL IDENTITY, \n'
   '\t[Patient_ID] INTEGER NULL, \n'
   '\t[CTV3Code] VARCHAR(max) COLLATE Latin1_General_BIN NULL, \n'
   '\t[ConsultationDate] DATETIME NULL, \n'
   '\tPRIMARY KEY ([CodedEvent_ID]), \n'
   '\tFOREIGN KEY([Patient_ID]) REFERENCES [Patient] ([Patient_ID])\n'
   ')\n'
   '\n',
   {}),
  {},
  None),
 ('Cursor', 'description', (), {}, None),
 ('Cursor',
  'execute',
  ('\n'
   'CREATE TABLE [SGSS_AllTests_Positive] (\n'
   '\t[Result_ID] INTEGER NOT NULL IDENTITY, \n'
   '\t[Patient_ID] INTEGER NULL, \n'
   '\t[Organism_Species_Name] VARCHAR(max) NULL, \n'
   '\t[Specimen_Date] DATE NULL, \n'
   '\tPRIMARY KEY ([Result_ID]), \n'
   '\tFOREIGN KEY([Patient_ID]) REFERENCES [Patient] ([Patient_ID])\n'
   ')\n'
   '\n',
   {}),
  {},
  None),
 ('Cursor', 'description', (), {}, None),
 ('Cursor',
  'execute',
  ('\n'
   'CREATE TABLE [SGSS_AllTests_Negative] (\n'
   '\t[Result_ID] INTEGER NOT NULL IDENTITY, \n'
   '\t[Patient_ID] INTEGER NULL, \n'
   '\t[Organism_Species_Name] VARCHAR(max) NULL, \n'
   '\t[Specimen_Date] DATE NULL, \n'
   '\tPRIMARY KEY ([Result_ID]), \n'
   '\tFOREIGN KEY([Patient_ID]) REFERENCES [Patient] ([Patient_ID])\n'
   ')\n'
   '\n',
   {}),
  {},
  None),
 ('Cursor', 'description', (), {}, None),
 ('Connection', 'commit', (), {}, None),
 ('Connection', 'rollback', (), {}, None),
 ('Cursor', 'execute', ('SET IDENTITY_INSERT [Patient] ON', ()), {}, None),
 ('Cursor',
  'execute',
  ('INSERT INTO [Patient] ([Patient_ID]) VALUES (%(Patient_ID)s)',
   {'Patient_ID': 1}),
  {},
  None),
 ('Cursor', 'rowcount', (), {}, 1),
 ('Cursor', 'execute', ('SET IDENTITY_INSERT [Patient] OFF', ()), {}, None),
 ('Cursor', 'description', (), {}, None),
 ('Cursor', 'close', (), {}, None),
 ('Connection', 'commit', (), {}, None),
 ('Connection', 'rollback', (), {}, None),
 ('Cursor',
  'execute',
  ('INSERT INTO [RegistrationHistory] ([Patient_ID], [StartDate], [EndDate]) '
   'OUTPUT inserted.[Registration_ID] VALUES (%(Patient_ID)s, %(StartDate)s, '
   '%(EndDate)s)',
   {'Patient_ID': 1, 'StartDate': '2001-01-01', 'EndDate': '2026-06-26'}),
  {},
  None),
 ('Cursor', 'rowcount', (), {}, -1),
 ('Cursor',
  'description',
  (),
  {},
  (('Registration_ID', 3, None, None, None, None, None),)),
 ('Cursor', 'fetchall', (), {}, [(1,)]),
 ('Cursor', 'close', (), {}, None),
 ('Connection', 'commit', (), {}, None),
 ('Connection', 'rollback', (), {}, None),
 ('Cursor',
  'execute',
  ('INSERT INTO [SGSS_AllTests_Positive] ([Patient_ID], '
   '[Organism_Species_Name], [Specimen_Date]) OUTPUT inserted.[Result_ID] '
   'VALUES (%(Patient_ID)s, %(Organism_Species_Name)s, %(Specimen_Date)s)',
   {'Patient_ID': 1,
    'Organism_Species_Name': 'SARS-CoV-2',
    'Specimen_Date': '2020-05-05'}),
  {},
  None),
 ('Cursor', 'rowcount', (), {}, -1),
 ('Cursor',
  'description',
  (),
  {},
  (('Result_ID', 3, None, None, None, None, None),)),
 ('Cursor', 'fetchall', (), {}, [(1,)]),
 ('Cursor', 'close', (), {}, None),
 ('Connection', 'commit', (), {}, None),
 ('Connection', 'rollback', (), {}, None),
 ('Cursor',
  'execute',
  ('INSERT INTO [SGSS_AllTests_Positive] ([Patient_ID], '
   '[Organism_Species_Name], [Specimen_Date]) OUTPUT inserted.[Result_ID] '
   'VALUES (%(Patient_ID)s, %(Organism_Species_Name)s, %(Specimen_Date)s)',
   {'Patient_ID': 1,
    'Organism_Species_Name': 'SARS-CoV-2',
    'Specimen_Date': '2020-06-06'}),
  {},
  None),
 ('Cursor', 'rowcount', (), {}, -1),
 ('Cursor',
  'description',
  (),
  {},
  (('Result_ID', 3, None, None, None, None, None),)),
 ('Cursor', 'fetchall', (), {}, [(2,)]),
 ('Cursor', 'close', (), {}, None),
 ('Connection', 'commit', (), {}, None),
 ('Connection', 'rollback', (), {}, None),
 ('Cursor',
  'execute',
  ('INSERT INTO [SGSS_AllTests_Negative] ([Patient_ID], '
   '[Organism_Species_Name], [Specimen_Date]) OUTPUT inserted.[Result_ID] '
   'VALUES (%(Patient_ID)s, %(Organism_Species_Name)s, %(Specimen_Date)s)',
   {'Patient_ID': 1,
    'Organism_Species_Name': 'SARS-CoV-2',
    'Specimen_Date': '2020-04-04'}),
  {},
  None),
 ('Cursor', 'rowcount', (), {}, -1),
 ('Cursor',
  'description',
  (),
  {},
  (('Result_ID', 3, None, None, None, None, None),)),
 ('Cursor', 'fetchall', (), {}, [(1,)]),
 ('Cursor', 'close', (), {}, None),
 ('Connection', 'commit', (), {}, None),
 ('Connection', 'rollback', (), {}, None),
 ('Cursor', 'execute', ('SET IDENTITY_INSERT [Patient] ON', ()), {}, None),
 ('Cursor',
  'execute',
  ('INSERT INTO [Patient] ([Patient_ID]) VALUES (%(Patient_ID)s)',
   {'Patient_ID': 2}),
  {},
  None),
 ('Cursor', 'rowcount', (), {}, 1),
 ('Cursor', 'execute', ('SET IDENTITY_INSERT [Patient] OFF', ()), {}, None),
 ('Cursor', 'description', (), {}, None),
 ('Cursor', 'close', (), {}, None),
 ('Connection', 'commit', (), {}, None),
 ('Connection', 'rollback', (), {}, None),
 ('Cursor',
  'execute',
  ('INSERT INTO [RegistrationHistory] ([Patient_ID], [StartDate], [EndDate]) '
   'OUTPUT inserted.[Registration_ID] VALUES (%(Patient_ID)s, %(StartDate)s, '
   '%(EndDate)s)',
   {'Patient_ID': 2, 'StartDate': '2001-01-01', 'EndDate': '2002-02-02'}),
  {},
  None),
 ('Cursor', 'rowcount', (), {}, -1),
 ('Cursor',
  'description',
  (),
  {},
  (('Registration_ID', 3, None, None, None, None, None),)),
 ('Cursor', 'fetchall', (), {}, [(2,)]),
 ('Cursor', 'close', (), {}, None),
 ('Connection', 'commit', (), {}, None),
 ('Connection', 'rollback', (), {}, None),
 ('Cursor', 'execute', ('select @@version', {}), {}, None),
 ('Cursor', 'description', (), {}, (('', 1, None, None, None, None, None),)),
 ('Cursor',
  'fetchone',
  (),
  {},
  ('Microsoft SQL Server 2017 (RTM-CU25) (KB5003830) - 14.0.3401.7 (X64) \n'
   '\tJun 25 2021 14:02:48 \n'
   '\tCopyright (C) 2017 Microsoft Corporation\n'
   '\tDeveloper Edition (64-bit) on Linux (Ubuntu 16.04.7 LTS)',)),
 ('Cursor', 'close', (), {}, None),
 ('Cursor', 'execute', ('SELECT schema_name()', {}), {}, None),
 ('Cursor', 'description', (), {}, (('', 1, None, None, None, None, None),)),
 ('Cursor', 'fetchone', (), {}, ('dbo',)),
 ('Cursor', 'close', (), {}, None),
 ('Cursor',
  'execute',
  ('\n'
   '                  SELECT CASE transaction_isolation_level\n'
   '                    WHEN 0 THEN NULL\n'
   "                    WHEN 1 THEN 'READ UNCOMMITTED'\n"
   "                    WHEN 2 THEN 'READ COMMITTED'\n"
   "                    WHEN 3 THEN 'REPEATABLE READ'\n"
   "                    WHEN 4 THEN 'SERIALIZABLE'\n"
   "                    WHEN 5 THEN 'SNAPSHOT' END AS "
   'TRANSACTION_ISOLATION_LEVEL\n'
   '                    FROM sys.dm_exec_sessions\n'
   '                    where session_id = @@SPID\n'
   '                  ',),
  {},
  None),
 ('Cursor', 'fetchone', (), {}, ('READ COMMITTED',)),
 ('Cursor', 'close', (), {}, None),
 ('Cursor',
  'execute',
  ("SELECT CAST('test max support' AS NVARCHAR(max))", {}),
  {},
  None),
 ('Cursor', 'description', (), {}, (('', 1, None, None, None, None, None),)),
 ('Cursor', 'fetchone', (), {}, ('test max support',)),
 ('Cursor', 'close', (), {}, None),
 ('Connection', 'rollback', (), {}, None),
 ('Cursor',
  'execute',
  ('SELECT * INTO #group_table_0 FROM (\n'
   'SELECT practice_registrations.patient_id, 1 AS patient_id_exists \n'
   'FROM (SELECT StartDate AS date_start, EndDate AS date_end, Patient_ID AS '
   'patient_id \n'
   'FROM [RegistrationHistory]) AS practice_registrations \n'
   "WHERE practice_registrations.date_start <= N'2020-11-01' AND "
   "practice_registrations.date_end >= N'2020-11-01' GROUP BY "
   'practice_registrations.patient_id\n'
   ') t\n'
   '\n'
   '\n'
   'SELECT * INTO #group_table_1 FROM (\n'
   'SELECT anon_1.date, anon_1.patient_id \n'
   'FROM (SELECT sgss_sars_cov_2.date, sgss_sars_cov_2.patient_id, '
   'row_number() OVER (PARTITION BY sgss_sars_cov_2.patient_id ORDER BY '
   'sgss_sars_cov_2.date) AS _row_num \n'
   'FROM (\n'
   '            SELECT Patient_ID as patient_id, Specimen_Date AS date, 1 AS '
   'positive_result FROM SGSS_AllTests_Positive\n'
   '            UNION ALL\n'
   '            SELECT Patient_ID as patient_id, Specimen_Date AS date, 0 AS '
   'positive_result FROM SGSS_AllTests_Negative\n'
   '        ) AS sgss_sars_cov_2 \n'
   'WHERE sgss_sars_cov_2.positive_result = 1) AS anon_1 \n'
   'WHERE anon_1._row_num = 1\n'
   ') t\n'
   '\n'
   '\n'
   'SELECT [#group_table_0].patient_id AS patient_id, [#group_table_1].date AS '
   'sgss_first_positive_test_date \n'
   'FROM [#group_table_0] LEFT OUTER JOIN [#group_table_1] ON '
   '[#group_table_0].patient_id = [#group_table_1].patient_id \n'
   'WHERE [#group_table_0].patient_id_exists = 1',
   {}),
  {},
  None),
 ('Cursor',
  'description',
  (),
  {},
  (('patient_id', 3, None, None, None, None, None),
   ('sgss_first_positive_test_date', 2, None, None, None, None, None))),
 ('Cursor', 'fetchone', (), {}, (1, datetime.date(2020, 5, 5))),
 ('Cursor', 'fetchone', (), {}, None),
 ('Cursor', 'close', (), {}, None),
 ('Connection', 'rollback', (), {}, None)]
